/ # ls
bin    dev    etc    home   lib    media  mnt    opt    proc   root   run    sbin   srv    sys    tmp    usr    var
/ # su bhargav
/ $ whoami
bhargav
/ $ ls
bin    dev    etc    home   lib    media  mnt    opt    proc   root   run    sbin   srv    sys    tmp    usr    var
/ $ cd /home
/home $ ls
bhargav
/home $ cd bhargav
~ $ ls
plays
~ $ cd plays/
~/plays $ ls
first-playbook.yml  myhosts
~/plays $ ansible-playbook first-playbook.yml -i myhosts 

PLAY [first play] *****************************************************************************************************************

TASK [Gathering Facts] ************************************************************************************************************
fatal: [ansible-host1]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host ansible-host1 port 22: Connection refused", "unreachable": true}
fatal: [ansible-host2]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host ansible-host2 port 22: Connection refused", "unreachable": true}

PLAY RECAP ************************************************************************************************************************
ansible-host1              : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
ansible-host2              : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   

~/plays $ 
~/plays $ 
~/plays $ 
~/plays $ 
~/plays $ 
~/plays $ ansible-playbook first-playbook.yml -i myhosts 

PLAY [first play] *****************************************************************************************************************

TASK [Gathering Facts] ************************************************************************************************************
fatal: [ansible-host1]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host ansible-host1 port 22: Connection refused", "unreachable": true}
fatal: [ansible-host2]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host ansible-host2 port 22: Connection refused", "unreachable": true}

PLAY RECAP ************************************************************************************************************************
ansible-host1              : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
ansible-host2              : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   

~/plays $ 
~/plays $ 
~/plays $ 
~/plays $ ls
first-playbook.yml  myhosts
~/plays $ ls
first-playbook.yml  myhosts
~/plays $ ip r
default via 172.18.0.1 dev eth0 
172.18.0.0/16 dev eth0 scope link  src 172.18.0.4 
~/plays $ su bhargav
su: must be suid to work properly
~/plays $ whoami
bhargav
~/plays $ ssh-copy-id 172.18.0.2
/usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: "/home/bhargav/.ssh/id_ed25519.pub"
The authenticity of host '172.18.0.2 (172.18.0.2)' can't be established.
ED25519 key fingerprint is SHA256:fEfEGxRjhdOsbwNxlHLHFTI64yeM0/hsK2V1hxf5hsk.
This key is not known by any other names.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed
expr: warning: '^ERROR: ': using '^' as the first character
of a basic regular expression is not portable; it is ignored
/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys
bhargav@172.18.0.2's password: 
Permission denied, please try again.
bhargav@172.18.0.2's password: 
Permission denied, please try again.
bhargav@172.18.0.2's password: 
~/plays $ ssh-copy-id 172.18.0.2
/usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: "/home/bhargav/.ssh/id_ed25519.pub"
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed
expr: warning: '^ERROR: ': using '^' as the first character
of a basic regular expression is not portable; it is ignored
/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys
bhargav@172.18.0.2's password: 

Number of key(s) added: 1

Now try logging into the machine, with:   "ssh '172.18.0.2'"
and check to make sure that only the key(s) you wanted were added.

~/plays $ 
~/plays $ 
~/plays $ 
~/plays $ 
~/plays $ ls
first-playbook.yml  myhosts
~/plays $ ssh 172.18.0.2
Welcome to Ubuntu 20.04.6 LTS (GNU/Linux 5.15.133.1-microsoft-standard-WSL2 x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

This system has been minimized by removing packages and content that are
not required on a system that users do not log into.

To restore this content, you can run the 'unminimize' command.
$ ip r
default via 172.18.0.1 dev eth0 
172.18.0.0/16 dev eth0 proto kernel scope link src 172.18.0.2 
$ ls
$ ip r
default via 172.18.0.1 dev eth0 
172.18.0.0/16 dev eth0 proto kernel scope link src 172.18.0.2 
$ python
-sh: 4: python: not found
$ python3    
Python 3.8.10 (default, Nov 22 2023, 10:22:35) 
[GCC 9.4.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> exit
Use exit() or Ctrl-D (i.e. EOF) to exit
>>> exit()
$ ls
$ exit
Connection to 172.18.0.2 closed.
~/plays $ 
~/plays $ 
~/plays $ 
~/plays $ ls
first-playbook.yml  myhosts
~/plays $ ansible -i myhosts -m ping
usage: ansible [-h] [--version] [-v] [-b] [--become-method BECOME_METHOD] [--become-user BECOME_USER]
               [-K | --become-password-file BECOME_PASSWORD_FILE] [-i INVENTORY] [--list-hosts] [-l SUBSET] [-P POLL_INTERVAL]
               [-B SECONDS] [-o] [-t TREE] [--private-key PRIVATE_KEY_FILE] [-u REMOTE_USER] [-c CONNECTION] [-T TIMEOUT]
               [--ssh-common-args SSH_COMMON_ARGS] [--sftp-extra-args SFTP_EXTRA_ARGS] [--scp-extra-args SCP_EXTRA_ARGS]
               [--ssh-extra-args SSH_EXTRA_ARGS] [-k | --connection-password-file CONNECTION_PASSWORD_FILE] [-C] [-D]
               [-e EXTRA_VARS] [--vault-id VAULT_IDS] [-J | --vault-password-file VAULT_PASSWORD_FILES] [-f FORKS]
               [-M MODULE_PATH] [--playbook-dir BASEDIR] [--task-timeout TASK_TIMEOUT] [-a MODULE_ARGS] [-m MODULE_NAME]
               pattern
ansible: error: the following arguments are required: pattern
 
usage: ansible [-h] [--version] [-v] [-b] [--become-method BECOME_METHOD] [--become-user BECOME_USER]
               [-K | --become-password-file BECOME_PASSWORD_FILE] [-i INVENTORY] [--list-hosts] [-l SUBSET] [-P POLL_INTERVAL]
               [-B SECONDS] [-o] [-t TREE] [--private-key PRIVATE_KEY_FILE] [-u REMOTE_USER] [-c CONNECTION] [-T TIMEOUT]
               [--ssh-common-args SSH_COMMON_ARGS] [--sftp-extra-args SFTP_EXTRA_ARGS] [--scp-extra-args SCP_EXTRA_ARGS]
               [--ssh-extra-args SSH_EXTRA_ARGS] [-k | --connection-password-file CONNECTION_PASSWORD_FILE] [-C] [-D]
               [-e EXTRA_VARS] [--vault-id VAULT_IDS] [-J | --vault-password-file VAULT_PASSWORD_FILES] [-f FORKS]
               [-M MODULE_PATH] [--playbook-dir BASEDIR] [--task-timeout TASK_TIMEOUT] [-a MODULE_ARGS] [-m MODULE_NAME]
               pattern

Define and run a single task 'playbook' against a set of hosts

positional arguments:
  pattern               host pattern

options:
  --become-password-file BECOME_PASSWORD_FILE, --become-pass-file BECOME_PASSWORD_FILE
                        Become password file
  --connection-password-file CONNECTION_PASSWORD_FILE, --conn-pass-file CONNECTION_PASSWORD_FILE
                        Connection password file
  --list-hosts          outputs a list of matching hosts; does not execute anything else
  --playbook-dir BASEDIR
                        Since this tool does not use playbooks, use this as a substitute playbook directory. This sets the
                        relative path for many features including roles/ group_vars/ etc.
  --task-timeout TASK_TIMEOUT
                        set task timeout limit in seconds, must be positive integer.
  --vault-id VAULT_IDS  the vault identity to use. This argument may be specified multiple times.
  --vault-password-file VAULT_PASSWORD_FILES, --vault-pass-file VAULT_PASSWORD_FILES
                        vault password file
  --version             show program's version number, config file location, configured module search path, module location,
                        executable location and exit
  -B SECONDS, --background SECONDS
                        run asynchronously, failing after X seconds (default=N/A)
  -C, --check           don't make any changes; instead, try to predict some of the changes that may occur
  -D, --diff            when changing (small) files and templates, show the differences in those files; works great with --check
  -J, --ask-vault-password, --ask-vault-pass
                        ask for vault password
  -K, --ask-become-pass
                        ask for privilege escalation password
  -M MODULE_PATH, --module-path MODULE_PATH
                        prepend colon-separated path(s) to module library (default={{ ANSIBLE_HOME ~
                        "/plugins/modules:/usr/share/ansible/plugins/modules" }}). This argument may be specified multiple times.
  -P POLL_INTERVAL, --poll POLL_INTERVAL
                        set the poll interval if using -B (default=15)
  -a MODULE_ARGS, --args MODULE_ARGS
                        The action's options in space separated k=v format: -a 'opt1=val1 opt2=val2' or a json string: -a
                        '{"opt1": "val1", "opt2": "val2"}'
  -e EXTRA_VARS, --extra-vars EXTRA_VARS
                        set additional variables as key=value or YAML/JSON, if filename prepend with @. This argument may be
                        specified multiple times.
  -f FORKS, --forks FORKS
                        specify number of parallel processes to use (default=5)
  -h, --help            show this help message and exit
  -i INVENTORY, --inventory INVENTORY, --inventory-file INVENTORY
                        specify inventory host path or comma separated host list. --inventory-file is deprecated. This argument
                        may be specified multiple times.
  -k, --ask-pass        ask for connection password
  -l SUBSET, --limit SUBSET
                        further limit selected hosts to an additional pattern
  -m MODULE_NAME, --module-name MODULE_NAME
                        Name of the action to execute (default=command)
  -o, --one-line        condense output
  -t TREE, --tree TREE  log output to this directory
  -v, --verbose         Causes Ansible to print more debug messages. Adding multiple -v will increase the verbosity, the builtin
                        plugins currently evaluate up to -vvvvvv. A reasonable level to start is -vvv, connection debugging might
                        require -vvvv. This argument may be specified multiple times.

Privilege Escalation Options:
  control how and which user you become as on target hosts

  --become-method BECOME_METHOD
                        privilege escalation method to use (default=sudo), use `ansible-doc -t become -l` to list valid choices.
  --become-user BECOME_USER
                        run operations as this user (default=root)
  -b, --become          run operations with become (does not imply password prompting)

Connection Options:
  control as whom and how to connect to hosts

  --private-key PRIVATE_KEY_FILE, --key-file PRIVATE_KEY_FILE
                        use this file to authenticate the connection
  --scp-extra-args SCP_EXTRA_ARGS
                        specify extra arguments to pass to scp only (e.g. -l)
  --sftp-extra-args SFTP_EXTRA_ARGS
                        specify extra arguments to pass to sftp only (e.g. -f, -l)
  --ssh-common-args SSH_COMMON_ARGS
                        specify common arguments to pass to sftp/scp/ssh (e.g. ProxyCommand)
  --ssh-extra-args SSH_EXTRA_ARGS
                        specify extra arguments to pass to ssh only (e.g. -R)
  -T TIMEOUT, --timeout TIMEOUT
                        override the connection timeout in seconds (default depends on connection)
  -c CONNECTION, --connection CONNECTION
                        connection type to use (default=ssh)
  -u REMOTE_USER, --user REMOTE_USER
                        connect as this user (default=None)

Some actions do not make sense in Ad-Hoc (include, meta, etc)
~/plays $ ansible  all -i myhosts -m ping
ansible-host1 | UNREACHABLE! => {
    "changed": false,
    "msg": "Failed to connect to the host via ssh: @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\r\n@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @\r\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\r\nIT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!\r\nSomeone could be eavesdropping on you right now (man-in-the-middle attack)!\r\nIt is also possible that a host key has just been changed.\r\nThe fingerprint for the RSA key sent by the remote host is\nSHA256:Xpn8G20qMWe0T0YxeRQoytRQw/qEfN2LoqMLhhSlEBE.\r\nPlease contact your system administrator.\r\nAdd correct host key in /home/bhargav/.ssh/known_hosts to get rid of this message.\r\nOffending RSA key in /home/bhargav/.ssh/known_hosts:2\r\nHost key for ansible-host1 has changed and you have requested strict checking.\r\nHost key verification failed.",
    "unreachable": true
}
ansible-host2 | UNREACHABLE! => {
    "changed": false,
    "msg": "Failed to connect to the host via ssh: ssh: Could not resolve hostname ansible-host2: Name has no usable address",
    "unreachable": true
}
~/plays $ ip r
default via 172.18.0.1 dev eth0 
172.18.0.0/16 dev eth0 scope link  src 172.18.0.4 
~/plays $ ls
first-playbook.yml  myhosts
~/plays $ vi myhosts 
~/plays $ cat /etc/host
cat: can't open '/etc/host': No such file or directory
~/plays $ cat /etc/hosts
127.0.0.1localhost
::1localhost ip6-localhost ip6-loopback
fe00::0ip6-localnet
ff00::0ip6-mcastprefix
ff02::1ip6-allnodes
ff02::2ip6-allrouters
172.18.0.4e3f679d1b5ea
~/plays $ ping ansible-host1
PING ansible-host1 (172.18.0.2): 56 data bytes
64 bytes from 172.18.0.2: seq=0 ttl=42 time=1.214 ms
64 bytes from 172.18.0.2: seq=1 ttl=42 time=0.067 ms
64 bytes from 172.18.0.2: seq=2 ttl=42 time=0.113 ms
64 bytes from 172.18.0.2: seq=3 ttl=42 time=0.113 ms
^C
--- ansible-host1 ping statistics ---
4 packets transmitted, 4 packets received, 0% packet loss
round-trip min/avg/max = 0.067/0.376/1.214 ms
~/plays $ ssh ansible-host1
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
Someone could be eavesdropping on you right now (man-in-the-middle attack)!
It is also possible that a host key has just been changed.
The fingerprint for the RSA key sent by the remote host is
SHA256:Xpn8G20qMWe0T0YxeRQoytRQw/qEfN2LoqMLhhSlEBE.
Please contact your system administrator.
Add correct host key in /home/bhargav/.ssh/known_hosts to get rid of this message.
Offending RSA key in /home/bhargav/.ssh/known_hosts:2
Host key for ansible-host1 has changed and you have requested strict checking.
Host key verification failed.
~/plays $ ls
first-playbook.yml  myhosts
~/plays $ cat first-playbook.yml 
- name:  first play
  hosts:  all
  tasks:
    - name: create a new file
      file:
        path:  /tmp/foo2.conf
        mode:  0664
        owner:  bhargav
        state:  touch
    - name:  install tmux
      package:
        name: tmux
        state:  present
~/plays $ whoami
bhargav
~/plays $ cd .ssh
ash: cd: can't cd to .ssh: No such file or directory
~/plays $ cd
~ $ cd .ssh
~/.ssh $ ls
id_ed25519       id_ed25519.pub   known_hosts      known_hosts.old
~/.ssh $ cat known_hosts
172.18.0.3 ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDNoEMC+aIOPA+u3CFhTSAE3ksrrUEV5EtJXQp3EdPnj5V6NhuTOsEasHSuE4ub95+Oqn8PDbDw9+RIDXPtSUAyOalvtQ8puO8hhW9/MXdG4n5L8jsMOLYAQ/ZGMV5944FoG4/HtWmm2oxuQz5+gCRwsTZF65Ch+D0Sz9z92ZRWbFXPD+cVl/bVasst1USnn+mscSswsFY2r0od/HyWqVsoDJuyPPYRare9wA8xIbDlBzI42uFY0nXOAHtpe+52GmpSh2R9pUwhrE8Xqqj5ZjFbPzCMxXKrAYQZjpIcfdotfYnRrCoLmYsR8Gl3q7Wf7XpDgILJRoJJPwqPmBECYRQbWMERJ4te1LWwzJ4pGXdLGXOLDY4B9jQNwlDqdqrjvhJRw6Gu2wF+DoPTpj0eonupZe+iFZNaZNhoYigrGJKJVIcHaVZV61gn1gT4FhOT8I7kqvSGLzNFOddce5C0jF941BUV9eluCRoXE2iMK+w0hmvJ8CxEQ5Z7pMUguA4H+6E=
ansible-host1 ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDNoEMC+aIOPA+u3CFhTSAE3ksrrUEV5EtJXQp3EdPnj5V6NhuTOsEasHSuE4ub95+Oqn8PDbDw9+RIDXPtSUAyOalvtQ8puO8hhW9/MXdG4n5L8jsMOLYAQ/ZGMV5944FoG4/HtWmm2oxuQz5+gCRwsTZF65Ch+D0Sz9z92ZRWbFXPD+cVl/bVasst1USnn+mscSswsFY2r0od/HyWqVsoDJuyPPYRare9wA8xIbDlBzI42uFY0nXOAHtpe+52GmpSh2R9pUwhrE8Xqqj5ZjFbPzCMxXKrAYQZjpIcfdotfYnRrCoLmYsR8Gl3q7Wf7XpDgILJRoJJPwqPmBECYRQbWMERJ4te1LWwzJ4pGXdLGXOLDY4B9jQNwlDqdqrjvhJRw6Gu2wF+DoPTpj0eonupZe+iFZNaZNhoYigrGJKJVIcHaVZV61gn1gT4FhOT8I7kqvSGLzNFOddce5C0jF941BUV9eluCRoXE2iMK+w0hmvJ8CxEQ5Z7pMUguA4H+6E=
ansible-host2 ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCHn7hYfg8UAEufHtO8My+ayND8zDfHVBMn9KVz9m4mASfjaHI7KXSddWRDz6XuaLk0dqd9TvNxcdY4WMr6bTJChHGSJmW5uEZlMgZo1Eqk5rbXOLiHZ5u6Tups8q3ivf3n9sNYs6w2knj4EvMGS9gRVbRkVRYksKAosBMjoSCY80DJHo+BCoh2s7cmDsJhSVGbe9pVbwam+M5s5l1x2KmvBVXTuEL0Utkm04TzJXjwhtcG/3J/zv7okKZM0y4MUCT6vSPuGdAi51UX4ZmjsVQEwILOIRNlozG7hZIQCPGTO5W7B8xXGG5W6fXUeAr61nxyGryVPnPw1OtL/8YzNZCS4hqVjFoQtyjFrmBo0jWujD6QikXR+Y3nDGGdHEDSiqsHBW6Y33oplVCOVdxOhRGPMG57RtjFV098RG+daSvw62VqTecMgXFyhds3NFSgu3ua/1UWDXSO/it99WJGFjoYJemv9MQe2Ij8ibQYHpUqrLFKBAiJZspmddDAi+hsi5k=
172.18.0.2 ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIJUkm4O4Db3fVNPnV9f8ISV8WcMqLKsn8zogKxDYt9PR
172.18.0.2 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBOdPaEXLeyH23bdjob0gBnNH1A4okVFP2jVw88ljz88M1rsCNdkP86B92PeLux3xpNuAb5ewM0BCBdTh0PP1rfI=
~/.ssh $ vi known_hosts
~/.ssh $ cd
~ $ ssh ansible-host1
The authenticity of host 'ansible-host1 (172.18.0.2)' can't be established.
ED25519 key fingerprint is SHA256:fEfEGxRjhdOsbwNxlHLHFTI64yeM0/hsK2V1hxf5hsk.
This key is not known by any other names.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added 'ansible-host1' (ED25519) to the list of known hosts.
Welcome to Ubuntu 20.04.6 LTS (GNU/Linux 5.15.133.1-microsoft-standard-WSL2 x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

This system has been minimized by removing packages and content that are
not required on a system that users do not log into.

To restore this content, you can run the 'unminimize' command.
Last login: Fri Jan 26 13:51:48 2024 from 172.18.0.4
$ 
$ 
$ ip r
default via 172.18.0.1 dev eth0 
172.18.0.0/16 dev eth0 proto kernel scope link src 172.18.0.2 
$ exi
-sh: 4: exi: not found
$ exit
Connection to ansible-host1 closed.
~ $ ls
plays
~ $ cd plays/
~/plays $ ls
first-playbook.yml  myhosts
~/plays $ ansible  all -i myhosts -m ping
ansible-host1 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3"
    },
    "changed": false,
    "ping": "pong"
}
~/plays $ ansible  all -i myhosts -m ping
ansible-host1 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3"
    },
    "changed": false,
    "ping": "pong"
}
~/plays $ ansible
ansible             ansible-config      ansible-console     ansible-galaxy      ansible-playbook    ansible-test
ansible-community   ansible-connection  ansible-doc         ansible-inventory   ansible-pull        ansible-vault
~/plays $ ansible-playbook 
first-playbook.yml  myhosts
~/plays $ ansible-playbook first-playbook.yml -i myhosts 

PLAY [first play] *****************************************************************************************************************

TASK [Gathering Facts] ************************************************************************************************************
ok: [ansible-host1]

TASK [create a new file] **********************************************************************************************************
changed: [ansible-host1]

TASK [install tmux] ***************************************************************************************************************
[WARNING]: Updating cache and auto-installing missing dependency: python3-apt
fatal: [ansible-host1]: FAILED! => {"changed": false, "cmd": "apt-get update", "msg": "E: Could not open lock file /var/lib/apt/lists/lock - open (13: Permission denied)\nE: Unable to lock directory /var/lib/apt/lists/", "rc": 100, "stderr": "E: Could not open lock file /var/lib/apt/lists/lock - open (13: Permission denied)\nE: Unable to lock directory /var/lib/apt/lists/\n", "stderr_lines": ["E: Could not open lock file /var/lib/apt/lists/lock - open (13: Permission denied)", "E: Unable to lock directory /var/lib/apt/lists/"], "stdout": "Reading package lists...\n", "stdout_lines": ["Reading package lists..."]}

PLAY RECAP ************************************************************************************************************************
ansible-host1              : ok=2    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   

~/plays $ ansible-playbook first-playbook.yml -i myhosts 

PLAY [first play] *****************************************************************************************************************

TASK [Gathering Facts] ************************************************************************************************************
ok: [ansible-host1]

TASK [create a new file] **********************************************************************************************************
changed: [ansible-host1]

TASK [install tmux] ***************************************************************************************************************
[WARNING]: Updating cache and auto-installing missing dependency: python3-apt
fatal: [ansible-host1]: FAILED! => {"changed": false, "cmd": "apt-get update", "msg": "E: Could not open lock file /var/lib/apt/lists/lock - open (13: Permission denied)\nE: Unable to lock directory /var/lib/apt/lists/", "rc": 100, "stderr": "E: Could not open lock file /var/lib/apt/lists/lock - open (13: Permission denied)\nE: Unable to lock directory /var/lib/apt/lists/\n", "stderr_lines": ["E: Could not open lock file /var/lib/apt/lists/lock - open (13: Permission denied)", "E: Unable to lock directory /var/lib/apt/lists/"], "stdout": "Reading package lists...\n", "stdout_lines": ["Reading package lists..."]}

PLAY RECAP ************************************************************************************************************************
ansible-host1              : ok=2    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   

~/plays $ ^C

~/plays $ ssh ansible-host1
Welcome to Ubuntu 20.04.6 LTS (GNU/Linux 5.15.133.1-microsoft-standard-WSL2 x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

This system has been minimized by removing packages and content that are
not required on a system that users do not log into.

To restore this content, you can run the 'unminimize' command.
Last login: Fri Jan 26 14:09:33 2024 from 172.18.0.4
$ vi /var/lib/apt/lists/lock
-sh: 1: vi: not found
$ apt install vi
E: Could not open lock file /var/lib/dpkg/lock-frontend - open (13: Permission denied)
E: Unable to acquire the dpkg frontend lock (/var/lib/dpkg/lock-frontend), are you root?
$ ls
$ apt install python
E: Could not open lock file /var/lib/dpkg/lock-frontend - open (13: Permission denied)
E: Unable to acquire the dpkg frontend lock (/var/lib/dpkg/lock-frontend), are you root?
$ sudo apt install python
-sh: 5: sudo: not found
$ sudo apt install python
-sh: 6: sudo: not found
$ exit
Connection to ansible-host1 closed.
~/plays $ vi first-playbook.yml 
~/plays $ ansible-playbook first-playbook.yml -i myhosts 

PLAY [first play] *****************************************************************************************************************

TASK [Gathering Facts] ************************************************************************************************************
fatal: [ansible-host1]: FAILED! => {"ansible_facts": {}, "changed": false, "failed_modules": {"ansible.legacy.setup": {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python3"}, "failed": true, "module_stderr": "Shared connection to ansible-host1 closed.\r\n", "module_stdout": "/bin/sh: 1: sudo: not found\r\n", "msg": "MODULE FAILURE\nSee stdout/stderr for the exact error", "rc": 127}}, "msg": "The following modules failed to execute: ansible.legacy.setup\n"}

PLAY RECAP ************************************************************************************************************************
ansible-host1              : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   

~/plays $ ssh ansible-host1
Welcome to Ubuntu 20.04.6 LTS (GNU/Linux 5.15.133.1-microsoft-standard-WSL2 x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

This system has been minimized by removing packages and content that are
not required on a system that users do not log into.

To restore this content, you can run the 'unminimize' command.
Last login: Fri Jan 26 14:16:20 2024 from 172.18.0.4
$ 
$ sudo
-sh: 2: sudo: not found
$ sudo python
-sh: 3: sudo: not found
$ su root
Password: 
su: Authentication failure
$ exit
Connection to ansible-host1 closed.
~/plays $ ansible-playbook first-playbook.yml -i myhosts 

PLAY [first play] *****************************************************************************************************************

TASK [Gathering Facts] ************************************************************************************************************
fatal: [ansible-host1]: FAILED! => {"msg": "Missing sudo password"}

PLAY RECAP ************************************************************************************************************************
ansible-host1              : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   

~/plays $ ansible  all -i myhosts -m ping
ansible-host1 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3"
    },
    "changed": false,
    "ping": "pong"
}
~/plays $ ^C

~/plays $ ansible-playbook first-playbook.yml -i myhosts 

PLAY [first play] *****************************************************************************************************************

TASK [Gathering Facts] ************************************************************************************************************
fatal: [ansible-host1]: FAILED! => {"msg": "Missing sudo password"}

PLAY RECAP ************************************************************************************************************************
ansible-host1              : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   

~/plays $ vi first-playbook.yml 
~/plays $ ansible-playbook first-playbook.yml -i myhosts 

PLAY [first play] *****************************************************************************************************************

TASK [Gathering Facts] ************************************************************************************************************
ok: [ansible-host1]

TASK [create a new file] **********************************************************************************************************
changed: [ansible-host1]

TASK [install tmux] ***************************************************************************************************************
[WARNING]: Updating cache and auto-installing missing dependency: python3-apt
fatal: [ansible-host1]: FAILED! => {"changed": false, "cmd": "apt-get update", "msg": "E: Could not open lock file /var/lib/apt/lists/lock - open (13: Permission denied)\nE: Unable to lock directory /var/lib/apt/lists/", "rc": 100, "stderr": "E: Could not open lock file /var/lib/apt/lists/lock - open (13: Permission denied)\nE: Unable to lock directory /var/lib/apt/lists/\n", "stderr_lines": ["E: Could not open lock file /var/lib/apt/lists/lock - open (13: Permission denied)", "E: Unable to lock directory /var/lib/apt/lists/"], "stdout": "Reading package lists...\n", "stdout_lines": ["Reading package lists..."]}

PLAY RECAP ************************************************************************************************************************
ansible-host1              : ok=2    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   

~/plays $ vi first-playbook.yml 
~/plays $ ansible-playbook first-playbook.yml -i myhosts 

PLAY [first play] *****************************************************************************************************************

TASK [Gathering Facts] ************************************************************************************************************
ok: [ansible-host1]

TASK [create a new file] **********************************************************************************************************
changed: [ansible-host1]

TASK [install tmux] ***************************************************************************************************************
[WARNING]: Updating cache and auto-installing missing dependency: python3-apt
fatal: [ansible-host1]: FAILED! => {"changed": false, "cmd": "apt-get update", "msg": "E: Could not open lock file /var/lib/apt/lists/lock - open (13: Permission denied)\nE: Unable to lock directory /var/lib/apt/lists/", "rc": 100, "stderr": "E: Could not open lock file /var/lib/apt/lists/lock - open (13: Permission denied)\nE: Unable to lock directory /var/lib/apt/lists/\n", "stderr_lines": ["E: Could not open lock file /var/lib/apt/lists/lock - open (13: Permission denied)", "E: Unable to lock directory /var/lib/apt/lists/"], "stdout": "Reading package lists...\n", "stdout_lines": ["Reading package lists..."]}

PLAY RECAP ************************************************************************************************************************
ansible-host1              : ok=2    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   

~/plays $ ssh anible-host1
ssh: Could not resolve hostname anible-host1: Name has no usable address
~/plays $ ssh ansible-host1
Welcome to Ubuntu 20.04.6 LTS (GNU/Linux 5.15.133.1-microsoft-standard-WSL2 x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

This system has been minimized by removing packages and content that are
not required on a system that users do not log into.

To restore this content, you can run the 'unminimize' command.
Last login: Fri Jan 26 14:35:48 2024 from 172.18.0.4
$ apt-get update
Reading package lists... Done
E: Could not open lock file /var/lib/apt/lists/lock - open (13: Permission denied)
E: Unable to lock directory /var/lib/apt/lists/
$ sudo apt-get update
[sudo] password for bhargav: 
Get:1 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]
Hit:2 http://archive.ubuntu.com/ubuntu focal InRelease              
Get:3 http://security.ubuntu.com/ubuntu focal-security/universe amd64 Packages [1170 kB]
Get:4 http://archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]
Hit:5 http://archive.ubuntu.com/ubuntu focal-backports InRelease 
Fetched 1397 kB in 2s (775 kB/s)
Reading package lists... Done
$ exit
Connection to ansible-host1 closed.
~/plays $ ssh ansible-host1
Welcome to Ubuntu 20.04.6 LTS (GNU/Linux 5.15.133.1-microsoft-standard-WSL2 x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

This system has been minimized by removing packages and content that are
not required on a system that users do not log into.

To restore this content, you can run the 'unminimize' command.
Last login: Fri Jan 26 14:36:27 2024 from 172.18.0.4
$ su root
Password: 
^C
$ sudo visudo -c
[sudo] password for bhargav: 
/etc/sudoers: parsed OK
/etc/sudoers.d/README: parsed OK
$ exit    
Connection to ansible-host1 closed.
~/plays $ vi first-playbook.yml 
~/plays $ ansible-playbook first-playbook.yml -i myhosts 

PLAY [first play] *****************************************************************************************************************

TASK [Gathering Facts] ************************************************************************************************************
fatal: [ansible-host1]: FAILED! => {"msg": "Missing sudo password"}

PLAY RECAP ************************************************************************************************************************
ansible-host1              : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   

~/plays $ vi first-playbook.yml 
~/plays $ ssh ansible-host1
Welcome to Ubuntu 20.04.6 LTS (GNU/Linux 5.15.133.1-microsoft-standard-WSL2 x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

This system has been minimized by removing packages and content that are
not required on a system that users do not log into.

To restore this content, you can run the 'unminimize' command.
Last login: Fri Jan 26 14:42:39 2024 from 172.18.0.4
$ sudo bhargav
[sudo] password for bhargav: 
sudo: bhargav: command not found
$ 
$ 
$ whoami
bhargav
$ sudo visudo
visudo: /etc/sudoers.tmp unchanged
$ ls
$ sudo visudo
$ exit
Connection to ansible-host1 closed.
~/plays $ ansible-playbook first-playbook.yml -i myhosts 

PLAY [first play] *****************************************************************************************************************

TASK [Gathering Facts] ************************************************************************************************************
ok: [ansible-host1]

TASK [create a new file] **********************************************************************************************************
changed: [ansible-host1]

TASK [install tmux] ***************************************************************************************************************
changed: [ansible-host1]

PLAY RECAP ************************************************************************************************************************
ansible-host1              : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

~/plays $ cd
~ $ rgb:adad/bebe/cbcb0000/0000Rrgb:adad/bebe/cbcb0000/000011R
ash: rgb:adad/bebe/cbcb0000/0000Rrgb:adad/bebe/cbcb0000/000011R: not found
~ $ 
~ $ 
~ $ 
~ $ ansible all -m ping
[WARNING]: No inventory was parsed, only implicit localhost is available
[WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'
~ $ ansible all -m ping -i myhosts
[WARNING]: Unable to parse /home/bhargav/myhosts as an inventory source
[WARNING]: No inventory was parsed, only implicit localhost is available
[WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'
~ $ cd plays/
~/plays $ ansible all -m ping -i myhosts
ansible-host1 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3"
    },
    "changed": false,
    "ping": "pong"
}
~/plays $ 
~/plays $ 
~/plays $ 
~/plays $ cp first-playbook.yml  group-playbook.yml
~/plays $ vi group-playbook.yml 
~/plays $ cp first-playbook.yml  importtask-playbook.yml
~/plays $ vi importtask-playbook.yml 
~/plays $ ls
first-playbook.yml       group-playbook.yml       importtask-playbook.yml  myhosts
~/plays $ vi importtask-playbook.yml 
~/plays $ ansible-playbook 
first-playbook.yml       group-playbook.yml       importtask-playbook.yml  myhosts
~/plays $ ansible-playbook importtask-playbook.yml -i myhosts 
ERROR! this task 'group' has extra params, which is only allowed in the following modules: ansible.legacy.command, ansible.legacy.import_role, ansible.legacy.set_fact, ansible.builtin.set_fact, ansible.builtin.win_command, meta, include_vars, win_command, ansible.legacy.add_host, set_fact, ansible.builtin.add_host, command, ansible.legacy.meta, add_host, raw, script, ansible.builtin.include_tasks, ansible.builtin.include, ansible.legacy.include_role, ansible.builtin.include_vars, ansible.builtin.raw, include, ansible.builtin.shell, ansible.builtin.script, ansible.legacy.win_command, include_role, ansible.legacy.import_tasks, ansible.builtin.group_by, ansible.legacy.include_vars, ansible.legacy.win_shell, ansible.builtin.include_role, ansible.builtin.win_shell, ansible.legacy.script, shell, ansible.builtin.import_tasks, ansible.legacy.group_by, ansible.legacy.include, ansible.legacy.raw, import_tasks, ansible.legacy.shell, ansible.builtin.command, ansible.windows.win_command, ansible.legacy.include_tasks, include_tasks, group_by, import_role, ansible.builtin.meta, ansible.builtin.import_role, win_shell, ansible.windows.win_shell

The error appears to be in '/home/bhargav/plays/group-playbook.yml': line 4, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

    name:  developers
- name:  security
  ^ here
~/plays $ vi importtask-playbook.yml 
~/plays $ vi group-playbook.yml 
~/plays $ ansible-playbook importtask-playbook.yml -i myhosts 

PLAY [first play] *****************************************************************************************************************

TASK [Gathering Facts] ************************************************************************************************************
ok: [ansible-host1]

TASK [create a new file] **********************************************************************************************************
changed: [ansible-host1]

TASK [first play] *****************************************************************************************************************
changed: [ansible-host1]

TASK [security] *******************************************************************************************************************
changed: [ansible-host1]

PLAY RECAP ************************************************************************************************************************
ansible-host1              : ok=4    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

~/plays $ cp importtask-playbook.yml  multiple-plays.yml
~/plays $ vi multiple-plays.yml 
~/plays $ ansible-playbook importtask-playbook.yml -i myhosts --tags git

PLAY [first play] *****************************************************************************************************************

TASK [Gathering Facts] ************************************************************************************************************
ok: [ansible-host1]

PLAY RECAP ************************************************************************************************************************
ansible-host1              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

~/plays $ rgb:adad/bebe/cbcb0000/0000Rrgb:adad/bebe/cbcb0000/000011R
ash: rgb:adad/bebe/cbcb0000/0000Rrgb:adad/bebe/cbcb0000/000011R: not found
~/plays $ 
~/plays $ 
~/plays $ 
~/plays $ ansible -m shell -i myhosts -a "git --help"
usage: ansible [-h] [--version] [-v] [-b] [--become-method BECOME_METHOD] [--become-user BECOME_USER]
               [-K | --become-password-file BECOME_PASSWORD_FILE] [-i INVENTORY] [--list-hosts] [-l SUBSET] [-P POLL_INTERVAL]
               [-B SECONDS] [-o] [-t TREE] [--private-key PRIVATE_KEY_FILE] [-u REMOTE_USER] [-c CONNECTION] [-T TIMEOUT]
               [--ssh-common-args SSH_COMMON_ARGS] [--sftp-extra-args SFTP_EXTRA_ARGS] [--scp-extra-args SCP_EXTRA_ARGS]
               [--ssh-extra-args SSH_EXTRA_ARGS] [-k | --connection-password-file CONNECTION_PASSWORD_FILE] [-C] [-D]
               [-e EXTRA_VARS] [--vault-id VAULT_IDS] [-J | --vault-password-file VAULT_PASSWORD_FILES] [-f FORKS]
               [-M MODULE_PATH] [--playbook-dir BASEDIR] [--task-timeout TASK_TIMEOUT] [-a MODULE_ARGS] [-m MODULE_NAME]
               pattern
ansible: error: the following arguments are required: pattern
 
usage: ansible [-h] [--version] [-v] [-b] [--become-method BECOME_METHOD] [--become-user BECOME_USER]
               [-K | --become-password-file BECOME_PASSWORD_FILE] [-i INVENTORY] [--list-hosts] [-l SUBSET] [-P POLL_INTERVAL]
               [-B SECONDS] [-o] [-t TREE] [--private-key PRIVATE_KEY_FILE] [-u REMOTE_USER] [-c CONNECTION] [-T TIMEOUT]
               [--ssh-common-args SSH_COMMON_ARGS] [--sftp-extra-args SFTP_EXTRA_ARGS] [--scp-extra-args SCP_EXTRA_ARGS]
               [--ssh-extra-args SSH_EXTRA_ARGS] [-k | --connection-password-file CONNECTION_PASSWORD_FILE] [-C] [-D]
               [-e EXTRA_VARS] [--vault-id VAULT_IDS] [-J | --vault-password-file VAULT_PASSWORD_FILES] [-f FORKS]
               [-M MODULE_PATH] [--playbook-dir BASEDIR] [--task-timeout TASK_TIMEOUT] [-a MODULE_ARGS] [-m MODULE_NAME]
               pattern

Define and run a single task 'playbook' against a set of hosts

positional arguments:
  pattern               host pattern

options:
  --become-password-file BECOME_PASSWORD_FILE, --become-pass-file BECOME_PASSWORD_FILE
                        Become password file
  --connection-password-file CONNECTION_PASSWORD_FILE, --conn-pass-file CONNECTION_PASSWORD_FILE
                        Connection password file
  --list-hosts          outputs a list of matching hosts; does not execute anything else
  --playbook-dir BASEDIR
                        Since this tool does not use playbooks, use this as a substitute playbook directory. This sets the
                        relative path for many features including roles/ group_vars/ etc.
  --task-timeout TASK_TIMEOUT
                        set task timeout limit in seconds, must be positive integer.
  --vault-id VAULT_IDS  the vault identity to use. This argument may be specified multiple times.
  --vault-password-file VAULT_PASSWORD_FILES, --vault-pass-file VAULT_PASSWORD_FILES
                        vault password file
  --version             show program's version number, config file location, configured module search path, module location,
                        executable location and exit
  -B SECONDS, --background SECONDS
                        run asynchronously, failing after X seconds (default=N/A)
  -C, --check           don't make any changes; instead, try to predict some of the changes that may occur
  -D, --diff            when changing (small) files and templates, show the differences in those files; works great with --check
  -J, --ask-vault-password, --ask-vault-pass
                        ask for vault password
  -K, --ask-become-pass
                        ask for privilege escalation password
  -M MODULE_PATH, --module-path MODULE_PATH
                        prepend colon-separated path(s) to module library (default={{ ANSIBLE_HOME ~
                        "/plugins/modules:/usr/share/ansible/plugins/modules" }}). This argument may be specified multiple times.
  -P POLL_INTERVAL, --poll POLL_INTERVAL
                        set the poll interval if using -B (default=15)
  -a MODULE_ARGS, --args MODULE_ARGS
                        The action's options in space separated k=v format: -a 'opt1=val1 opt2=val2' or a json string: -a
                        '{"opt1": "val1", "opt2": "val2"}'
  -e EXTRA_VARS, --extra-vars EXTRA_VARS
                        set additional variables as key=value or YAML/JSON, if filename prepend with @. This argument may be
                        specified multiple times.
  -f FORKS, --forks FORKS
                        specify number of parallel processes to use (default=5)
  -h, --help            show this help message and exit
  -i INVENTORY, --inventory INVENTORY, --inventory-file INVENTORY
                        specify inventory host path or comma separated host list. --inventory-file is deprecated. This argument
                        may be specified multiple times.
  -k, --ask-pass        ask for connection password
  -l SUBSET, --limit SUBSET
                        further limit selected hosts to an additional pattern
  -m MODULE_NAME, --module-name MODULE_NAME
                        Name of the action to execute (default=command)
  -o, --one-line        condense output
  -t TREE, --tree TREE  log output to this directory
  -v, --verbose         Causes Ansible to print more debug messages. Adding multiple -v will increase the verbosity, the builtin
                        plugins currently evaluate up to -vvvvvv. A reasonable level to start is -vvv, connection debugging might
                        require -vvvv. This argument may be specified multiple times.

Privilege Escalation Options:
  control how and which user you become as on target hosts

  --become-method BECOME_METHOD
                        privilege escalation method to use (default=sudo), use `ansible-doc -t become -l` to list valid choices.
  --become-user BECOME_USER
                        run operations as this user (default=root)
  -b, --become          run operations with become (does not imply password prompting)

Connection Options:
  control as whom and how to connect to hosts

  --private-key PRIVATE_KEY_FILE, --key-file PRIVATE_KEY_FILE
                        use this file to authenticate the connection
  --scp-extra-args SCP_EXTRA_ARGS
                        specify extra arguments to pass to scp only (e.g. -l)
  --sftp-extra-args SFTP_EXTRA_ARGS
                        specify extra arguments to pass to sftp only (e.g. -f, -l)
  --ssh-common-args SSH_COMMON_ARGS
                        specify common arguments to pass to sftp/scp/ssh (e.g. ProxyCommand)
  --ssh-extra-args SSH_EXTRA_ARGS
                        specify extra arguments to pass to ssh only (e.g. -R)
  -T TIMEOUT, --timeout TIMEOUT
                        override the connection timeout in seconds (default depends on connection)
  -c CONNECTION, --connection CONNECTION
                        connection type to use (default=ssh)
  -u REMOTE_USER, --user REMOTE_USER
                        connect as this user (default=None)

Some actions do not make sense in Ad-Hoc (include, meta, etc)
~/plays $ rgb:adad/bebe/cbcb0000/0000Rrgb:adad/bebe/cbcb0000/000011R
ash: rgb:adad/bebe/cbcb0000/0000Rrgb:adad/bebe/cbcb0000/000011R: not found
~/plays $ 
~/plays $ 
~/plays $ 
~/plays $ ansible all  -m shell  -a "git --help"
[WARNING]: No inventory was parsed, only implicit localhost is available
[WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'
~/plays $ ansible all  -m shell  -a "git --help" -i myhosts 
ansible-host1 | FAILED | rc=127 >>
/bin/sh: 1: git: not foundnon-zero return code
~/plays $ ansible-playbook importtask-playbook.yml -i myhosts --tags git

PLAY [first play] *****************************************************************************************************************

TASK [Gathering Facts] ************************************************************************************************************
ok: [ansible-host1]

PLAY RECAP ************************************************************************************************************************
ansible-host1              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

~/plays $ vi importtask-playbook.yml 
~/plays $ ls
first-playbook.yml       group-playbook.yml       importtask-playbook.yml  multiple-plays.yml       myhosts
~/plays $ ansible-playbook multiple-plays.yml  -i myhosts --tags git

PLAY [first play] *****************************************************************************************************************

TASK [Gathering Facts] ************************************************************************************************************
ok: [ansible-host1]

TASK [install git] ****************************************************************************************************************
fatal: [ansible-host1]: FAILED! => {"cache_update_time": 1706301473, "cache_updated": false, "changed": false, "msg": "'/usr/bin/apt-get -y -o \"Dpkg::Options::=--force-confdef\" -o \"Dpkg::Options::=--force-confold\"       install 'git=1:2.25.1-1ubuntu3.11'' failed: E: Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/h/heimdal/libhcrypto4-heimdal_7.7.0+dfsg-1ubuntu1.4_amd64.deb  Connection failed [IP: 185.125.190.39 80]\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\n", "rc": 100, "stderr": "E: Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/h/heimdal/libhcrypto4-heimdal_7.7.0+dfsg-1ubuntu1.4_amd64.deb  Connection failed [IP: 185.125.190.39 80]\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\n", "stderr_lines": ["E: Failed to fetch http://security.ubuntu.com/ubuntu/pool/main/h/heimdal/libhcrypto4-heimdal_7.7.0+dfsg-1ubuntu1.4_amd64.deb  Connection failed [IP: 185.125.190.39 80]", "E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?"], "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  git-man less libasn1-8-heimdal libbrotli1 libcurl3-gnutls liberror-perl\n  libgdbm-compat4 libgdbm6 libgssapi3-heimdal libhcrypto4-heimdal\n  libheimbase1-heimdal libheimntlm0-heimdal libhx509-5-heimdal\n  libkrb5-26-heimdal libldap-2.4-2 libldap-common libnghttp2-14 libperl5.30\n  libroken18-heimdal librtmp1 libsasl2-2 libsasl2-modules libsasl2-modules-db\n  libssh-4 libwind0-heimdal patch perl perl-modules-5.30\nSuggested packages:\n  gettext-base git-daemon-run | git-daemon-sysvinit git-doc git-el git-email\n  git-gui gitk gitweb git-cvs git-mediawiki git-svn gdbm-l10n\n  libsasl2-modules-gssapi-mit | libsasl2-modules-gssapi-heimdal\n  libsasl2-modules-ldap libsasl2-modules-otp libsasl2-modules-sql ed\n  diffutils-doc perl-doc libterm-readline-gnu-perl\n  | libterm-readline-perl-perl make libb-debug-perl liblocale-codes-perl\nThe following NEW packages will be installed:\n  git git-man less libasn1-8-heimdal libbrotli1 libcurl3-gnutls liberror-perl\n  libgdbm-compat4 libgdbm6 libgssapi3-heimdal libhcrypto4-heimdal\n  libheimbase1-heimdal libheimntlm0-heimdal libhx509-5-heimdal\n  libkrb5-26-heimdal libldap-2.4-2 libldap-common libnghttp2-14 libperl5.30\n  libroken18-heimdal librtmp1 libsasl2-2 libsasl2-modules libsasl2-modules-db\n  libssh-4 libwind0-heimdal patch perl perl-modules-5.30\n0 upgraded, 29 newly installed, 0 to remove and 7 not upgraded.\nNeed to get 14.6 MB of archives.\nAfter this operation, 92.1 MB of additional disk space will be used.\nGet:1 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 perl-modules-5.30 all 5.30.0-9ubuntu0.5 [2739 kB]\nGet:2 http://archive.ubuntu.com/ubuntu focal/main amd64 libgdbm6 amd64 1.18.1-5 [27.4 kB]\nGet:3 http://archive.ubuntu.com/ubuntu focal/main amd64 libgdbm-compat4 amd64 1.18.1-5 [6244 B]\nGet:4 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libperl5.30 amd64 5.30.0-9ubuntu0.5 [3941 kB]\nGet:5 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 perl amd64 5.30.0-9ubuntu0.5 [224 kB]\nGet:6 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 less amd64 551-1ubuntu0.1 [123 kB]\nGet:7 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libbrotli1 amd64 1.0.7-6ubuntu0.1 [267 kB]\nGet:8 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libroken18-heimdal amd64 7.7.0+dfsg-1ubuntu1.4 [42.5 kB]\nGet:9 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libasn1-8-heimdal amd64 7.7.0+dfsg-1ubuntu1.4 [181 kB]\nGet:10 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libheimbase1-heimdal amd64 7.7.0+dfsg-1ubuntu1.4 [30.4 kB]\nIgn:11 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libhcrypto4-heimdal amd64 7.7.0+dfsg-1ubuntu1.4\nErr:11 http://security.ubuntu.com/ubuntu focal-updates/main amd64 libhcrypto4-heimdal amd64 7.7.0+dfsg-1ubuntu1.4\n  Connection failed [IP: 185.125.190.39 80]\nIgn:12 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libwind0-heimdal amd64 7.7.0+dfsg-1ubuntu1.4\nGet:12 http://security.ubuntu.com/ubuntu focal-updates/main amd64 libwind0-heimdal amd64 7.7.0+dfsg-1ubuntu1.4 [47.7 kB]\nGet:13 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libhx509-5-heimdal amd64 7.7.0+dfsg-1ubuntu1.4 [107 kB]\nGet:14 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libkrb5-26-heimdal amd64 7.7.0+dfsg-1ubuntu1.4 [207 kB]\nGet:15 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libheimntlm0-heimdal amd64 7.7.0+dfsg-1ubuntu1.4 [15.1 kB]\nGet:16 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libgssapi3-heimdal amd64 7.7.0+dfsg-1ubuntu1.4 [96.5 kB]\nGet:17 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libsasl2-modules-db amd64 2.1.27+dfsg-2ubuntu0.1 [14.7 kB]\nGet:18 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libsasl2-2 amd64 2.1.27+dfsg-2ubuntu0.1 [49.3 kB]\nGet:19 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libldap-common all 2.4.49+dfsg-2ubuntu1.9 [16.6 kB]\nGet:20 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libldap-2.4-2 amd64 2.4.49+dfsg-2ubuntu1.9 [155 kB]\nGet:21 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libnghttp2-14 amd64 1.40.0-1ubuntu0.2 [79.4 kB]\nGet:22 http://archive.ubuntu.com/ubuntu focal/main amd64 librtmp1 amd64 2.4+20151223.gitfa8646d.1-2build1 [54.9 kB]\nGet:23 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libssh-4 amd64 0.9.3-2ubuntu2.5 [171 kB]\nGet:24 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libcurl3-gnutls amd64 7.68.0-1ubuntu2.21 [232 kB]\nGet:25 http://archive.ubuntu.com/ubuntu focal/main amd64 liberror-perl all 0.17029-1 [26.5 kB]\nGet:26 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 git-man all 1:2.25.1-1ubuntu3.11 [887 kB]\nGet:27 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 git amd64 1:2.25.1-1ubuntu3.11 [4605 kB]\nGet:28 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libsasl2-modules amd64 2.1.27+dfsg-2ubuntu0.1 [48.8 kB]\nGet:29 http://archive.ubuntu.com/ubuntu focal/main amd64 patch amd64 2.7.6-6 [105 kB]\nFetched 14.5 MB in 1min 36s (151 kB/s)\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following additional packages will be installed:", "  git-man less libasn1-8-heimdal libbrotli1 libcurl3-gnutls liberror-perl", "  libgdbm-compat4 libgdbm6 libgssapi3-heimdal libhcrypto4-heimdal", "  libheimbase1-heimdal libheimntlm0-heimdal libhx509-5-heimdal", "  libkrb5-26-heimdal libldap-2.4-2 libldap-common libnghttp2-14 libperl5.30", "  libroken18-heimdal librtmp1 libsasl2-2 libsasl2-modules libsasl2-modules-db", "  libssh-4 libwind0-heimdal patch perl perl-modules-5.30", "Suggested packages:", "  gettext-base git-daemon-run | git-daemon-sysvinit git-doc git-el git-email", "  git-gui gitk gitweb git-cvs git-mediawiki git-svn gdbm-l10n", "  libsasl2-modules-gssapi-mit | libsasl2-modules-gssapi-heimdal", "  libsasl2-modules-ldap libsasl2-modules-otp libsasl2-modules-sql ed", "  diffutils-doc perl-doc libterm-readline-gnu-perl", "  | libterm-readline-perl-perl make libb-debug-perl liblocale-codes-perl", "The following NEW packages will be installed:", "  git git-man less libasn1-8-heimdal libbrotli1 libcurl3-gnutls liberror-perl", "  libgdbm-compat4 libgdbm6 libgssapi3-heimdal libhcrypto4-heimdal", "  libheimbase1-heimdal libheimntlm0-heimdal libhx509-5-heimdal", "  libkrb5-26-heimdal libldap-2.4-2 libldap-common libnghttp2-14 libperl5.30", "  libroken18-heimdal librtmp1 libsasl2-2 libsasl2-modules libsasl2-modules-db", "  libssh-4 libwind0-heimdal patch perl perl-modules-5.30", "0 upgraded, 29 newly installed, 0 to remove and 7 not upgraded.", "Need to get 14.6 MB of archives.", "After this operation, 92.1 MB of additional disk space will be used.", "Get:1 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 perl-modules-5.30 all 5.30.0-9ubuntu0.5 [2739 kB]", "Get:2 http://archive.ubuntu.com/ubuntu focal/main amd64 libgdbm6 amd64 1.18.1-5 [27.4 kB]", "Get:3 http://archive.ubuntu.com/ubuntu focal/main amd64 libgdbm-compat4 amd64 1.18.1-5 [6244 B]", "Get:4 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libperl5.30 amd64 5.30.0-9ubuntu0.5 [3941 kB]", "Get:5 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 perl amd64 5.30.0-9ubuntu0.5 [224 kB]", "Get:6 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 less amd64 551-1ubuntu0.1 [123 kB]", "Get:7 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libbrotli1 amd64 1.0.7-6ubuntu0.1 [267 kB]", "Get:8 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libroken18-heimdal amd64 7.7.0+dfsg-1ubuntu1.4 [42.5 kB]", "Get:9 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libasn1-8-heimdal amd64 7.7.0+dfsg-1ubuntu1.4 [181 kB]", "Get:10 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libheimbase1-heimdal amd64 7.7.0+dfsg-1ubuntu1.4 [30.4 kB]", "Ign:11 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libhcrypto4-heimdal amd64 7.7.0+dfsg-1ubuntu1.4", "Err:11 http://security.ubuntu.com/ubuntu focal-updates/main amd64 libhcrypto4-heimdal amd64 7.7.0+dfsg-1ubuntu1.4", "  Connection failed [IP: 185.125.190.39 80]", "Ign:12 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libwind0-heimdal amd64 7.7.0+dfsg-1ubuntu1.4", "Get:12 http://security.ubuntu.com/ubuntu focal-updates/main amd64 libwind0-heimdal amd64 7.7.0+dfsg-1ubuntu1.4 [47.7 kB]", "Get:13 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libhx509-5-heimdal amd64 7.7.0+dfsg-1ubuntu1.4 [107 kB]", "Get:14 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libkrb5-26-heimdal amd64 7.7.0+dfsg-1ubuntu1.4 [207 kB]", "Get:15 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libheimntlm0-heimdal amd64 7.7.0+dfsg-1ubuntu1.4 [15.1 kB]", "Get:16 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libgssapi3-heimdal amd64 7.7.0+dfsg-1ubuntu1.4 [96.5 kB]", "Get:17 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libsasl2-modules-db amd64 2.1.27+dfsg-2ubuntu0.1 [14.7 kB]", "Get:18 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libsasl2-2 amd64 2.1.27+dfsg-2ubuntu0.1 [49.3 kB]", "Get:19 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libldap-common all 2.4.49+dfsg-2ubuntu1.9 [16.6 kB]", "Get:20 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libldap-2.4-2 amd64 2.4.49+dfsg-2ubuntu1.9 [155 kB]", "Get:21 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libnghttp2-14 amd64 1.40.0-1ubuntu0.2 [79.4 kB]", "Get:22 http://archive.ubuntu.com/ubuntu focal/main amd64 librtmp1 amd64 2.4+20151223.gitfa8646d.1-2build1 [54.9 kB]", "Get:23 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libssh-4 amd64 0.9.3-2ubuntu2.5 [171 kB]", "Get:24 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libcurl3-gnutls amd64 7.68.0-1ubuntu2.21 [232 kB]", "Get:25 http://archive.ubuntu.com/ubuntu focal/main amd64 liberror-perl all 0.17029-1 [26.5 kB]", "Get:26 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 git-man all 1:2.25.1-1ubuntu3.11 [887 kB]", "Get:27 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 git amd64 1:2.25.1-1ubuntu3.11 [4605 kB]", "Get:28 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libsasl2-modules amd64 2.1.27+dfsg-2ubuntu0.1 [48.8 kB]", "Get:29 http://archive.ubuntu.com/ubuntu focal/main amd64 patch amd64 2.7.6-6 [105 kB]", "Fetched 14.5 MB in 1min 36s (151 kB/s)"]}

PLAY RECAP ************************************************************************************************************************
ansible-host1              : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   

~/plays $ ansible-playbook multiple-plays.yml  -i myhosts --tags git

PLAY [first play] *****************************************************************************************************************

TASK [Gathering Facts] ************************************************************************************************************
ok: [ansible-host1]

TASK [install git] ****************************************************************************************************************
changed: [ansible-host1]

PLAY RECAP ************************************************************************************************************************
ansible-host1              : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

~/plays $ ls
first-playbook.yml       group-playbook.yml       importtask-playbook.yml  multiple-plays.yml       myhosts
~/plays $ rgb:adad/bebe/cbcb0000/0000Rrgb:adad/bebe/cbcb0000/000011R
ash: rgb:adad/bebe/cbcb0000/0000Rrgb:adad/bebe/cbcb0000/000011R: not found
~/plays $ 
~/plays $ ps
PID   USER     TIME  COMMAND
    1 root      0:00 /bin/sh
    7 root      0:00 /bin/sh
   14 bhargav   0:00 ash
  630 bhargav   0:00 ps
~/plays $ pwd
/home/bhargav/plays
~/plays $ ls
first-playbook.yml       group-playbook.yml       importtask-playbook.yml  multiple-plays.yml       myhosts
~/plays $ rgb:adad/bebe/cbcb0000/0000Rrgb:adad/bebe/cbcb0000/000011Rrgb:adad/bebe/cbcb0000/0000Rrgb:adad/bebe/cbcb0000/000011R
ash: rgb:adad/bebe/cbcb0000/0000Rrgb:adad/bebe/cbcb0000/000011Rrgb:adad/bebe/cbcb0000/0000Rrgb:adad/bebe/cbcb0000/000011R: not found
~/plays $ 
~/plays $ 
~/plays $ 
~/plays $ 
~/plays $ vi myhosts 
~/plays $ 
~/plays $ 
~/plays $ ls
first-playbook.yml       group-playbook.yml       importtask-playbook.yml  multiple-plays.yml       myhosts
~/plays $ ls
first-playbook.yml       group-playbook.yml       importtask-playbook.yml  multiple-plays.yml       myhosts
~/plays $ vi myhosts 
~/plays $ ansible
ansible             ansible-config      ansible-console     ansible-galaxy      ansible-playbook    ansible-test
ansible-community   ansible-connection  ansible-doc         ansible-inventory   ansible-pull        ansible-vault
~/plays $ #ansible-playbook group-playbook.yml - i myhosts 
~/plays $ vi group-playbook.yml 
~/plays $ #ansible-playbook multiple-plays.yml  - i myhosts 
~/plays $ ans^Cle-playbook multiple-plays.yml  - i myhosts 

~/plays $ #ansible-playbook multiple-plays.yml  - i myhosts ^C

~/plays $ cat myhosts 
ansible-host1
[proxy]
ansible-host2
[web-servers]
ansible-host1
~/plays $ ansible-playbook group-playbook.yml - i myhosts -l proxy
ERROR! the playbook: - could not be found
~/plays $ ansible-playbook group-playbook.yml  - i myhosts -l proxy
ERROR! the playbook: - could not be found
~/plays $ ls
first-playbook.yml       group-playbook.yml       importtask-playbook.yml  multiple-plays.yml       myhosts
~/plays $ ansible-playbook group-playbook.yml  - i myhosts 
ERROR! the playbook: - could not be found
~/plays $ ansible-playbook multiple-plays.yml   - i myhosts 
ERROR! the playbook: - could not be found
~/plays $ las
ash: las: not found
~/plays $ ls
first-playbook.yml       group-playbook.yml       importtask-playbook.yml  multiple-plays.yml       myhosts
~/plays $ cat myhosts 
ansible-host1
[proxy]
ansible-host2
[web-servers]
ansible-host1
~/plays $ ansible all -m ping
[WARNING]: No inventory was parsed, only implicit localhost is available
[WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'
~/plays $ ansible all -m ping -i myhosts 
[WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details
ansible-host2 | UNREACHABLE! => {
    "changed": false,
    "msg": "Failed to connect to the host via ssh: ssh: Could not resolve hostname ansible-host2: Name has no usable address",
    "unreachable": true
}
ansible-host1 | SUCCESS => {
    "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python3"
    },
    "changed": false,
    "ping": "pong"
}
~/plays $ ansible-
ansible-community   ansible-connection  ansible-doc         ansible-inventory   ansible-pull        ansible-vault
ansible-config      ansible-console     ansible-galaxy      ansible-playbook    ansible-test
~/plays $ ansible-
ansible-community   ansible-connection  ansible-doc         ansible-inventory   ansible-pull        ansible-vault
ansible-config      ansible-console     ansible-galaxy      ansible-playbook    ansible-test
~/plays $ ansible-playbook 
first-playbook.yml       group-playbook.yml       importtask-playbook.yml  multiple-plays.yml       myhosts
~/plays $ ansible-playbook 
first-playbook.yml       group-playbook.yml       importtask-playbook.yml  multiple-plays.yml       myhosts
~/plays $ ansible-playbook importtask-playbook.yml -tags git
usage: ansible-playbook [-h] [--version] [-v] [--private-key PRIVATE_KEY_FILE] [-u REMOTE_USER] [-c CONNECTION] [-T TIMEOUT]
                        [--ssh-common-args SSH_COMMON_ARGS] [--sftp-extra-args SFTP_EXTRA_ARGS] [--scp-extra-args SCP_EXTRA_ARGS]
                        [--ssh-extra-args SSH_EXTRA_ARGS] [-k | --connection-password-file CONNECTION_PASSWORD_FILE]
                        [--force-handlers] [--flush-cache] [-b] [--become-method BECOME_METHOD] [--become-user BECOME_USER]
                        [-K | --become-password-file BECOME_PASSWORD_FILE] [-t TAGS] [--skip-tags SKIP_TAGS] [-C] [-D]
                        [-i INVENTORY] [--list-hosts] [-l SUBSET] [-e EXTRA_VARS] [--vault-id VAULT_IDS]
                        [-J | --vault-password-file VAULT_PASSWORD_FILES] [-f FORKS] [-M MODULE_PATH] [--syntax-check]
                        [--list-tasks] [--list-tags] [--step] [--start-at-task START_AT_TASK]
                        playbook [playbook ...]
ansible-playbook: error: unrecognized arguments: git
 
usage: ansible-playbook [-h] [--version] [-v] [--private-key PRIVATE_KEY_FILE] [-u REMOTE_USER] [-c CONNECTION] [-T TIMEOUT]
                        [--ssh-common-args SSH_COMMON_ARGS] [--sftp-extra-args SFTP_EXTRA_ARGS] [--scp-extra-args SCP_EXTRA_ARGS]
                        [--ssh-extra-args SSH_EXTRA_ARGS] [-k | --connection-password-file CONNECTION_PASSWORD_FILE]
                        [--force-handlers] [--flush-cache] [-b] [--become-method BECOME_METHOD] [--become-user BECOME_USER]
                        [-K | --become-password-file BECOME_PASSWORD_FILE] [-t TAGS] [--skip-tags SKIP_TAGS] [-C] [-D]
                        [-i INVENTORY] [--list-hosts] [-l SUBSET] [-e EXTRA_VARS] [--vault-id VAULT_IDS]
                        [-J | --vault-password-file VAULT_PASSWORD_FILES] [-f FORKS] [-M MODULE_PATH] [--syntax-check]
                        [--list-tasks] [--list-tags] [--step] [--start-at-task START_AT_TASK]
                        playbook [playbook ...]

Runs Ansible playbooks, executing the defined tasks on the targeted hosts.

positional arguments:
  playbook              Playbook(s)

options:
  --become-password-file BECOME_PASSWORD_FILE, --become-pass-file BECOME_PASSWORD_FILE
                        Become password file
  --connection-password-file CONNECTION_PASSWORD_FILE, --conn-pass-file CONNECTION_PASSWORD_FILE
                        Connection password file
  --flush-cache         clear the fact cache for every host in inventory
  --force-handlers      run handlers even if a task fails
  --list-hosts          outputs a list of matching hosts; does not execute anything else
  --list-tags           list all available tags
  --list-tasks          list all tasks that would be executed
  --skip-tags SKIP_TAGS
                        only run plays and tasks whose tags do not match these values. This argument may be specified multiple
                        times.
  --start-at-task START_AT_TASK
                        start the playbook at the task matching this name
  --step                one-step-at-a-time: confirm each task before running
  --syntax-check        perform a syntax check on the playbook, but do not execute it
  --vault-id VAULT_IDS  the vault identity to use. This argument may be specified multiple times.
  --vault-password-file VAULT_PASSWORD_FILES, --vault-pass-file VAULT_PASSWORD_FILES
                        vault password file
  --version             show program's version number, config file location, configured module search path, module location,
                        executable location and exit
  -C, --check           don't make any changes; instead, try to predict some of the changes that may occur
  -D, --diff            when changing (small) files and templates, show the differences in those files; works great with --check
  -J, --ask-vault-password, --ask-vault-pass
                        ask for vault password
  -K, --ask-become-pass
                        ask for privilege escalation password
  -M MODULE_PATH, --module-path MODULE_PATH
                        prepend colon-separated path(s) to module library (default={{ ANSIBLE_HOME ~
                        "/plugins/modules:/usr/share/ansible/plugins/modules" }}). This argument may be specified multiple times.
  -e EXTRA_VARS, --extra-vars EXTRA_VARS
                        set additional variables as key=value or YAML/JSON, if filename prepend with @. This argument may be
                        specified multiple times.
  -f FORKS, --forks FORKS
                        specify number of parallel processes to use (default=5)
  -h, --help            show this help message and exit
  -i INVENTORY, --inventory INVENTORY, --inventory-file INVENTORY
                        specify inventory host path or comma separated host list. --inventory-file is deprecated. This argument
                        may be specified multiple times.
  -k, --ask-pass        ask for connection password
  -l SUBSET, --limit SUBSET
                        further limit selected hosts to an additional pattern
  -t TAGS, --tags TAGS  only run plays and tasks tagged with these values. This argument may be specified multiple times.
  -v, --verbose         Causes Ansible to print more debug messages. Adding multiple -v will increase the verbosity, the builtin
                        plugins currently evaluate up to -vvvvvv. A reasonable level to start is -vvv, connection debugging might
                        require -vvvv. This argument may be specified multiple times.

Connection Options:
  control as whom and how to connect to hosts

  --private-key PRIVATE_KEY_FILE, --key-file PRIVATE_KEY_FILE
                        use this file to authenticate the connection
  --scp-extra-args SCP_EXTRA_ARGS
                        specify extra arguments to pass to scp only (e.g. -l)
  --sftp-extra-args SFTP_EXTRA_ARGS
                        specify extra arguments to pass to sftp only (e.g. -f, -l)
  --ssh-common-args SSH_COMMON_ARGS
                        specify common arguments to pass to sftp/scp/ssh (e.g. ProxyCommand)
  --ssh-extra-args SSH_EXTRA_ARGS
                        specify extra arguments to pass to ssh only (e.g. -R)
  -T TIMEOUT, --timeout TIMEOUT
                        override the connection timeout in seconds (default depends on connection)
  -c CONNECTION, --connection CONNECTION
                        connection type to use (default=ssh)
  -u REMOTE_USER, --user REMOTE_USER
                        connect as this user (default=None)

Privilege Escalation Options:
  control how and which user you become as on target hosts

  --become-method BECOME_METHOD
                        privilege escalation method to use (default=sudo), use `ansible-doc -t become -l` to list valid choices.
  --become-user BECOME_USER
                        run operations as this user (default=root)
  -b, --become          run operations with become (does not imply password prompting)
~/plays $ ansible-playbook importtask-playbook.yml --tags git
[WARNING]: No inventory was parsed, only implicit localhost is available
[WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

PLAY [first play] *****************************************************************************************************************
skipping: no hosts matched

PLAY RECAP ************************************************************************************************************************

~/plays $ ansible-playbook importtask-playbook.yml --tags git -i myhosts 
[WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

PLAY [first play] *****************************************************************************************************************

TASK [Gathering Facts] ************************************************************************************************************
ok: [ansible-host1]
fatal: [ansible-host2]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: Could not resolve hostname ansible-host2: Name has no usable address", "unreachable": true}

PLAY RECAP ************************************************************************************************************************
ansible-host1              : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ansible-host2              : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   

~/plays $ ansible  all -m shell -a "git --version"
[WARNING]: No inventory was parsed, only implicit localhost is available
[WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'
~/plays $ ansible  all -m shell -a "git --version" -i myhosts 
[WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details
ansible-host1 | CHANGED | rc=0 >>
git version 2.25.1
ansible-host2 | UNREACHABLE! => {
    "changed": false,
    "msg": "Failed to connect to the host via ssh: ssh: Could not resolve hostname ansible-host2: Name has no usable address",
    "unreachable": true
}
~/plays $ 
~/plays $ ls
first-playbook.yml       group-playbook.yml       importtask-playbook.yml  multiple-plays.yml       myhosts
~/plays $ ls
first-playbook.yml       group-playbook.yml       importtask-playbook.yml  multiple-plays.yml       myhosts
~/plays $ mkdir host_vars
~/plays $ echo "message : THis is done using host variables " >> host_vars/ansible-host1.yml
~/plays $ cd host_vars/
~/plays/host_vars $ ls
ansible-host1.yml
~/plays/host_vars $ cat ansible-host1.yml 
message : THis is done using host variables 
~/plays/host_vars $ cd ..
~/plays $ vi motd.yml
~/plays $ 
~/plays $ vi motd.yml
~/plays $ rgb:adad/bebe/cbcb0000/0000Rrgb:adad/bebe/cbcb0000/000011
ash: rgb:adad/bebe/cbcb0000/0000Rrgb:adad/bebe/cbcb0000/000011: not found
~/plays $ vi motd.yml
~/plays $ ls
first-playbook.yml       host_vars                motd.yml                 myhosts
group-playbook.yml       importtask-playbook.yml  multiple-plays.yml
~/plays $ ansible-playbook motd.yml -i myhosts 
[WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

PLAY [Set motd on all nodes] ******************************************************************************************************

TASK [Gathering Facts] ************************************************************************************************************
ok: [ansible-host1]
fatal: [ansible-host2]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: Could not resolve hostname ansible-host2: Name has no usable address", "unreachable": true}

TASK [set motd= value of message varaiable] ***************************************************************************************
changed: [ansible-host1]

PLAY RECAP ************************************************************************************************************************
ansible-host1              : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ansible-host2              : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   

~/plays $ ansible all -m command -a "cat /home/bhargav/motd"
[WARNING]: No inventory was parsed, only implicit localhost is available
[WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'
~/plays $ ansible all -m command -a "cat /home/bhargav/motd" -i myhosts 
[WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details
ansible-host1 | CHANGED | rc=0 >>
THis is done using host variables
ansible-host2 | UNREACHABLE! => {
    "changed": false,
    "msg": "Failed to connect to the host via ssh: ssh: Could not resolve hostname ansible-host2: Name has no usable address",
    "unreachable": true
}
~/plays $ rgb:adad/bebe/cbcb0000/0000Rrgb:adad/bebe/cbcb0000/000011R
ash: rgb:adad/bebe/cbcb0000/0000Rrgb:adad/bebe/cbcb0000/000011R: not found
~/plays $ ls
first-playbook.yml       host_vars                motd.yml                 myhosts
group-playbook.yml       importtask-playbook.yml  multiple-plays.yml
~/plays $ vi custom_fact.fact
~/plays $ vi custom-facts.yml
~/plays $ rgb:adad/bebe/cbcb0000/0000Rrgb:adad/bebe/cbcb0000/000011R
ash: rgb:adad/bebe/cbcb0000/0000Rrgb:adad/bebe/cbcb0000/000011R: not found
~/plays $ 
~/plays $ ls
custom-facts.yml         first-playbook.yml       host_vars                motd.yml                 myhosts
custom_fact.fact         group-playbook.yml       importtask-playbook.yml  multiple-plays.yml
~/plays $ ansible-playbook custom-facts.yml -i myhosts 
[WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details
ERROR! We were unable to read either as JSON nor YAML, these are the errors we got from each:
JSON: Expecting value: line 1 column 1 (char 0)

Syntax Error while loading YAML.
  did not find expected key

The error appears to be in '/home/bhargav/plays/custom-facts.yml': line 10, column 4, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

        state:  directory
   - name: Copy file to the facts.d directory
   ^ here
~/plays $ vi custom
custom-facts.yml  custom_fact.fact
~/plays $ vi custom_fact.fact 
~/plays $ vi custom-facts.yml 
~/plays $ ls
custom-facts.yml         first-playbook.yml       host_vars                motd.yml                 myhosts
custom_fact.fact         group-playbook.yml       importtask-playbook.yml  multiple-plays.yml
~/plays $ ansible-playbook custom-facts.yml -i myhosts 
[WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

PLAY [Adding custom facts to ansible-host1] ***************************************************************************************

TASK [Gathering Facts] ************************************************************************************************************
ok: [ansible-host1]
fatal: [ansible-host2]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: Could not resolve hostname ansible-host2: Name has no usable address", "unreachable": true}

TASK [Craete the customfacts.d directorty] ****************************************************************************************
fatal: [ansible-host1]: FAILED! => {"changed": false, "msg": "There was an issue creating /etc/ansible as requested: [Errno 13] Permission denied: b'/etc/ansible'", "path": "/etc/ansible/facts.d"}

PLAY RECAP ************************************************************************************************************************
ansible-host1              : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
ansible-host2              : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   

~/plays $ vi custom-facts.yml 
~/plays $ rgb:adad/bebe/cbcb0000/0000Rrgb:adad/bebe/cbcb0000/000011R
ash: rgb:adad/bebe/cbcb0000/0000Rrgb:adad/bebe/cbcb0000/000011R: not found
~/plays $ ansible-playbook custom-facts.yml -i myhosts 
[WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

PLAY [Adding custom facts to ansible-host1] ***************************************************************************************

TASK [Gathering Facts] ************************************************************************************************************
ok: [ansible-host1]
fatal: [ansible-host2]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: Could not resolve hostname ansible-host2: Name has no usable address", "unreachable": true}

TASK [Craete the customfacts.d directorty] ****************************************************************************************
changed: [ansible-host1]

TASK [Copy file to the facts.d directory] *****************************************************************************************
changed: [ansible-host1]

PLAY RECAP ************************************************************************************************************************
ansible-host1              : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ansible-host2              : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   

~/plays $ ansible all -m setup
[WARNING]: No inventory was parsed, only implicit localhost is available
[WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'
~/plays $ ansible all -m setup -i myhosts 
[WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details
ansible-host1 | SUCCESS => {
    "ansible_facts": {
        "ansible_all_ipv4_addresses": [
            "172.18.0.2"
        ],
        "ansible_all_ipv6_addresses": [],
        "ansible_apparmor": {
            "status": "disabled"
        },
        "ansible_architecture": "x86_64",
        "ansible_bios_date": "NA",
        "ansible_bios_vendor": "NA",
        "ansible_bios_version": "NA",
        "ansible_board_asset_tag": "NA",
        "ansible_board_name": "NA",
        "ansible_board_serial": "NA",
        "ansible_board_vendor": "NA",
        "ansible_board_version": "NA",
        "ansible_chassis_asset_tag": "NA",
        "ansible_chassis_serial": "NA",
        "ansible_chassis_vendor": "NA",
        "ansible_chassis_version": "NA",
        "ansible_cmdline": {
            "WSL_ROOT_INIT": "1",
            "bonding.max_bonds": "0",
            "console": "hvc0",
            "debug": true,
            "dummy.numdummies": "0",
            "fb_tunnels": "none",
            "initrd": "\\initrd.img",
            "nr_cpus": "8",
            "panic": "-1",
            "pty.legacy_count": "0",
            "swiotlb": "force"
        },
        "ansible_date_time": {
            "date": "2024-01-27",
            "day": "27",
            "epoch": "1706399452",
            "epoch_int": "1706399452",
            "hour": "17",
            "iso8601": "2024-01-27T23:50:52Z",
            "iso8601_basic": "20240127T175052985192",
            "iso8601_basic_short": "20240127T175052",
            "iso8601_micro": "2024-01-27T23:50:52.985192Z",
            "minute": "50",
            "month": "01",
            "second": "52",
            "time": "17:50:52",
            "tz": "CST",
            "tz_dst": "CDT",
            "tz_offset": "-0600",
            "weekday": "Saturday",
            "weekday_number": "6",
            "weeknumber": "04",
            "year": "2024"
        },
        "ansible_default_ipv4": {
            "address": "172.18.0.2",
            "alias": "eth0",
            "broadcast": "172.18.255.255",
            "gateway": "172.18.0.1",
            "interface": "eth0",
            "macaddress": "02:42:ac:12:00:02",
            "mtu": 1500,
            "netmask": "255.255.0.0",
            "network": "172.18.0.0",
            "prefix": "16",
            "type": "ether"
        },
        "ansible_default_ipv6": {},
        "ansible_device_links": {
            "ids": {},
            "labels": {},
            "masters": {},
            "uuids": {}
        },
        "ansible_devices": {
            "loop0": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": null,
                "partitions": {},
                "removable": "0",
                "rotational": "1",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "none",
                "sectors": "941276",
                "sectorsize": "512",
                "size": "459.61 MB",
                "support_discard": "4096",
                "vendor": null,
                "virtual": 1
            },
            "loop1": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": null,
                "partitions": {},
                "removable": "0",
                "rotational": "1",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "none",
                "sectors": "594428",
                "sectorsize": "512",
                "size": "290.25 MB",
                "support_discard": "4096",
                "vendor": null,
                "virtual": 1
            },
            "loop2": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": null,
                "partitions": {},
                "removable": "0",
                "rotational": "1",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "none",
                "sectors": "1428224",
                "sectorsize": "512",
                "size": "697.38 MB",
                "support_discard": "4096",
                "vendor": null,
                "virtual": 1
            },
            "loop3": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": null,
                "partitions": {},
                "removable": "0",
                "rotational": "1",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "none",
                "sectors": "0",
                "sectorsize": "512",
                "size": "0.00 Bytes",
                "support_discard": "0",
                "vendor": null,
                "virtual": 1
            },
            "loop4": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": null,
                "partitions": {},
                "removable": "0",
                "rotational": "1",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "none",
                "sectors": "0",
                "sectorsize": "512",
                "size": "0.00 Bytes",
                "support_discard": "0",
                "vendor": null,
                "virtual": 1
            },
            "loop5": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": null,
                "partitions": {},
                "removable": "0",
                "rotational": "1",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "none",
                "sectors": "0",
                "sectorsize": "512",
                "size": "0.00 Bytes",
                "support_discard": "0",
                "vendor": null,
                "virtual": 1
            },
            "loop6": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": null,
                "partitions": {},
                "removable": "0",
                "rotational": "1",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "none",
                "sectors": "0",
                "sectorsize": "512",
                "size": "0.00 Bytes",
                "support_discard": "0",
                "vendor": null,
                "virtual": 1
            },
            "loop7": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": null,
                "partitions": {},
                "removable": "0",
                "rotational": "1",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "none",
                "sectors": "0",
                "sectorsize": "512",
                "size": "0.00 Bytes",
                "support_discard": "0",
                "vendor": null,
                "virtual": 1
            },
            "ram0": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": null,
                "partitions": {},
                "removable": "0",
                "rotational": "0",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "",
                "sectors": "131072",
                "sectorsize": "512",
                "size": "64.00 MB",
                "support_discard": "0",
                "vendor": null,
                "virtual": 1
            },
            "ram1": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": null,
                "partitions": {},
                "removable": "0",
                "rotational": "0",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "",
                "sectors": "131072",
                "sectorsize": "512",
                "size": "64.00 MB",
                "support_discard": "0",
                "vendor": null,
                "virtual": 1
            },
            "ram10": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": null,
                "partitions": {},
                "removable": "0",
                "rotational": "0",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "",
                "sectors": "131072",
                "sectorsize": "512",
                "size": "64.00 MB",
                "support_discard": "0",
                "vendor": null,
                "virtual": 1
            },
            "ram11": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": null,
                "partitions": {},
                "removable": "0",
                "rotational": "0",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "",
                "sectors": "131072",
                "sectorsize": "512",
                "size": "64.00 MB",
                "support_discard": "0",
                "vendor": null,
                "virtual": 1
            },
            "ram12": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": null,
                "partitions": {},
                "removable": "0",
                "rotational": "0",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "",
                "sectors": "131072",
                "sectorsize": "512",
                "size": "64.00 MB",
                "support_discard": "0",
                "vendor": null,
                "virtual": 1
            },
            "ram13": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": null,
                "partitions": {},
                "removable": "0",
                "rotational": "0",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "",
                "sectors": "131072",
                "sectorsize": "512",
                "size": "64.00 MB",
                "support_discard": "0",
                "vendor": null,
                "virtual": 1
            },
            "ram14": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": null,
                "partitions": {},
                "removable": "0",
                "rotational": "0",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "",
                "sectors": "131072",
                "sectorsize": "512",
                "size": "64.00 MB",
                "support_discard": "0",
                "vendor": null,
                "virtual": 1
            },
            "ram15": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": null,
                "partitions": {},
                "removable": "0",
                "rotational": "0",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "",
                "sectors": "131072",
                "sectorsize": "512",
                "size": "64.00 MB",
                "support_discard": "0",
                "vendor": null,
                "virtual": 1
            },
            "ram2": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": null,
                "partitions": {},
                "removable": "0",
                "rotational": "0",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "",
                "sectors": "131072",
                "sectorsize": "512",
                "size": "64.00 MB",
                "support_discard": "0",
                "vendor": null,
                "virtual": 1
            },
            "ram3": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": null,
                "partitions": {},
                "removable": "0",
                "rotational": "0",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "",
                "sectors": "131072",
                "sectorsize": "512",
                "size": "64.00 MB",
                "support_discard": "0",
                "vendor": null,
                "virtual": 1
            },
            "ram4": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": null,
                "partitions": {},
                "removable": "0",
                "rotational": "0",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "",
                "sectors": "131072",
                "sectorsize": "512",
                "size": "64.00 MB",
                "support_discard": "0",
                "vendor": null,
                "virtual": 1
            },
            "ram5": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": null,
                "partitions": {},
                "removable": "0",
                "rotational": "0",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "",
                "sectors": "131072",
                "sectorsize": "512",
                "size": "64.00 MB",
                "support_discard": "0",
                "vendor": null,
                "virtual": 1
            },
            "ram6": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": null,
                "partitions": {},
                "removable": "0",
                "rotational": "0",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "",
                "sectors": "131072",
                "sectorsize": "512",
                "size": "64.00 MB",
                "support_discard": "0",
                "vendor": null,
                "virtual": 1
            },
            "ram7": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": null,
                "partitions": {},
                "removable": "0",
                "rotational": "0",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "",
                "sectors": "131072",
                "sectorsize": "512",
                "size": "64.00 MB",
                "support_discard": "0",
                "vendor": null,
                "virtual": 1
            },
            "ram8": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": null,
                "partitions": {},
                "removable": "0",
                "rotational": "0",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "",
                "sectors": "131072",
                "sectorsize": "512",
                "size": "64.00 MB",
                "support_discard": "0",
                "vendor": null,
                "virtual": 1
            },
            "ram9": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": null,
                "partitions": {},
                "removable": "0",
                "rotational": "0",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "",
                "sectors": "131072",
                "sectorsize": "512",
                "size": "64.00 MB",
                "support_discard": "0",
                "vendor": null,
                "virtual": 1
            },
            "sda": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": "Virtual Disk",
                "partitions": {},
                "removable": "0",
                "rotational": "1",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "none",
                "sectors": "798352",
                "sectorsize": "512",
                "size": "389.82 MB",
                "support_discard": "2097152",
                "vendor": "Msft",
                "virtual": 1
            },
            "sdb": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": "Virtual Disk",
                "partitions": {},
                "removable": "0",
                "rotational": "1",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "none",
                "sectors": "2097160",
                "sectorsize": "512",
                "size": "1.00 GB",
                "support_discard": "1048576",
                "vendor": "Msft",
                "virtual": 1
            },
            "sdc": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": "Virtual Disk",
                "partitions": {},
                "removable": "0",
                "rotational": "1",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "none",
                "sectors": "2147483648",
                "sectorsize": "512",
                "size": "1.00 TB",
                "support_discard": "1048576",
                "vendor": "Msft",
                "virtual": 1
            },
            "sdd": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": "Virtual Disk",
                "partitions": {},
                "removable": "0",
                "rotational": "1",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "none",
                "sectors": "2147483648",
                "sectorsize": "512",
                "size": "1.00 TB",
                "support_discard": "1048576",
                "vendor": "Msft",
                "virtual": 1
            },
            "sde": {
                "holders": [],
                "host": "",
                "links": {
                    "ids": [],
                    "labels": [],
                    "masters": [],
                    "uuids": []
                },
                "model": "Virtual Disk",
                "partitions": {},
                "removable": "0",
                "rotational": "1",
                "sas_address": null,
                "sas_device_handle": null,
                "scheduler_mode": "none",
                "sectors": "2147483648",
                "sectorsize": "512",
                "size": "1.00 TB",
                "support_discard": "1048576",
                "vendor": "Msft",
                "virtual": 1
            }
        },
        "ansible_distribution": "Ubuntu",
        "ansible_distribution_file_parsed": true,
        "ansible_distribution_file_path": "/etc/os-release",
        "ansible_distribution_file_variety": "Debian",
        "ansible_distribution_major_version": "20",
        "ansible_distribution_release": "focal",
        "ansible_distribution_version": "20.04",
        "ansible_dns": {
            "nameservers": [
                "127.0.0.11"
            ],
            "options": {
                "ndots": "0"
            }
        },
        "ansible_domain": "",
        "ansible_effective_group_id": 1000,
        "ansible_effective_user_id": 1000,
        "ansible_env": {
            "HOME": "/home/bhargav",
            "LC_CTYPE": "C.UTF-8",
            "LOGNAME": "bhargav",
            "MOTD_SHOWN": "pam",
            "PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",
            "PWD": "/home/bhargav",
            "SHELL": "/bin/sh",
            "SSH_CLIENT": "172.18.0.4 39842 22",
            "SSH_CONNECTION": "172.18.0.4 39842 172.18.0.2 22",
            "SSH_TTY": "/dev/pts/2",
            "TERM": "xterm",
            "USER": "bhargav"
        },
        "ansible_eth0": {
            "active": true,
            "device": "eth0",
            "ipv4": {
                "address": "172.18.0.2",
                "broadcast": "172.18.255.255",
                "netmask": "255.255.0.0",
                "network": "172.18.0.0",
                "prefix": "16"
            },
            "macaddress": "02:42:ac:12:00:02",
            "mtu": 1500,
            "promisc": false,
            "speed": 10000,
            "type": "ether"
        },
        "ansible_fibre_channel_wwn": [],
        "ansible_fips": false,
        "ansible_form_factor": "NA",
        "ansible_fqdn": "b55470bebfb2",
        "ansible_hostname": "b55470bebfb2",
        "ansible_hostnqn": "",
        "ansible_interfaces": [
            "eth0",
            "lo"
        ],
        "ansible_is_chroot": true,
        "ansible_iscsi_iqn": "",
        "ansible_kernel": "5.15.133.1-microsoft-standard-WSL2",
        "ansible_kernel_version": "#1 SMP Thu Oct 5 21:02:42 UTC 2023",
        "ansible_lo": {
            "active": true,
            "device": "lo",
            "ipv4": {
                "address": "127.0.0.1",
                "broadcast": "",
                "netmask": "255.0.0.0",
                "network": "127.0.0.0",
                "prefix": "8"
            },
            "mtu": 65536,
            "promisc": false,
            "type": "loopback"
        },
        "ansible_loadavg": {
            "15m": 0.23,
            "1m": 0.29,
            "5m": 0.29
        },
        "ansible_local": {},
        "ansible_locally_reachable_ips": {
            "ipv4": [
                "127.0.0.0/8",
                "127.0.0.1",
                "172.18.0.2"
            ],
            "ipv6": []
        },
        "ansible_lsb": {
            "codename": "focal",
            "description": "Ubuntu 20.04.6 LTS",
            "id": "Ubuntu",
            "major_release": "20",
            "release": "20.04"
        },
        "ansible_lvm": "N/A",
        "ansible_machine": "x86_64",
        "ansible_machine_id": "3b330985ab7c41a4a5512eb4ed54215c",
        "ansible_memfree_mb": 84,
        "ansible_memory_mb": {
            "nocache": {
                "free": 485,
                "used": 3298
            },
            "real": {
                "free": 84,
                "total": 3783,
                "used": 3699
            },
            "swap": {
                "cached": 56,
                "free": 0,
                "total": 1024,
                "used": 1024
            }
        },
        "ansible_memtotal_mb": 3783,
        "ansible_mounts": [
            {
                "block_available": 248010805,
                "block_size": 4096,
                "block_total": 263940717,
                "block_used": 15929912,
                "device": "/dev/sde",
                "fstype": "ext4",
                "inode_available": 66902192,
                "inode_total": 67108864,
                "inode_used": 206672,
                "mount": "/etc/resolv.conf",
                "options": "rw,relatime,discard,errors=remount-ro,data=ordered,bind",
                "size_available": 1015852257280,
                "size_total": 1081101176832,
                "uuid": "N/A"
            },
            {
                "block_available": 248010805,
                "block_size": 4096,
                "block_total": 263940717,
                "block_used": 15929912,
                "device": "/dev/sde",
                "fstype": "ext4",
                "inode_available": 66902192,
                "inode_total": 67108864,
                "inode_used": 206672,
                "mount": "/etc/hostname",
                "options": "rw,relatime,discard,errors=remount-ro,data=ordered,bind",
                "size_available": 1015852257280,
                "size_total": 1081101176832,
                "uuid": "N/A"
            },
            {
                "block_available": 248010805,
                "block_size": 4096,
                "block_total": 263940717,
                "block_used": 15929912,
                "device": "/dev/sde",
                "fstype": "ext4",
                "inode_available": 66902192,
                "inode_total": 67108864,
                "inode_used": 206672,
                "mount": "/etc/hosts",
                "options": "rw,relatime,discard,errors=remount-ro,data=ordered,bind",
                "size_available": 1015852257280,
                "size_total": 1081101176832,
                "uuid": "N/A"
            }
        ],
        "ansible_nodename": "b55470bebfb2",
        "ansible_os_family": "Debian",
        "ansible_pkg_mgr": "apt",
        "ansible_proc_cmdline": {
            "WSL_ROOT_INIT": "1",
            "bonding.max_bonds": "0",
            "console": "hvc0",
            "debug": true,
            "dummy.numdummies": "0",
            "fb_tunnels": "none",
            "initrd": "\\initrd.img",
            "nr_cpus": "8",
            "panic": "-1",
            "pty.legacy_count": "0",
            "swiotlb": "force"
        },
        "ansible_processor": [
            "0",
            "GenuineIntel",
            "11th Gen Intel(R) Core(TM) i5-1135G7 @ 2.40GHz",
            "1",
            "GenuineIntel",
            "11th Gen Intel(R) Core(TM) i5-1135G7 @ 2.40GHz",
            "2",
            "GenuineIntel",
            "11th Gen Intel(R) Core(TM) i5-1135G7 @ 2.40GHz",
            "3",
            "GenuineIntel",
            "11th Gen Intel(R) Core(TM) i5-1135G7 @ 2.40GHz",
            "4",
            "GenuineIntel",
            "11th Gen Intel(R) Core(TM) i5-1135G7 @ 2.40GHz",
            "5",
            "GenuineIntel",
            "11th Gen Intel(R) Core(TM) i5-1135G7 @ 2.40GHz",
            "6",
            "GenuineIntel",
            "11th Gen Intel(R) Core(TM) i5-1135G7 @ 2.40GHz",
            "7",
            "GenuineIntel",
            "11th Gen Intel(R) Core(TM) i5-1135G7 @ 2.40GHz"
        ],
        "ansible_processor_cores": 4,
        "ansible_processor_count": 1,
        "ansible_processor_nproc": 8,
        "ansible_processor_threads_per_core": 2,
        "ansible_processor_vcpus": 8,
        "ansible_product_name": "NA",
        "ansible_product_serial": "NA",
        "ansible_product_uuid": "NA",
        "ansible_product_version": "NA",
        "ansible_python": {
            "executable": "/usr/bin/python3",
            "has_sslcontext": true,
            "type": "cpython",
            "version": {
                "major": 3,
                "micro": 10,
                "minor": 8,
                "releaselevel": "final",
                "serial": 0
            },
            "version_info": [
                3,
                8,
                10,
                "final",
                0
            ]
        },
        "ansible_python_version": "3.8.10",
        "ansible_real_group_id": 1000,
        "ansible_real_user_id": 1000,
        "ansible_selinux": {
            "status": "disabled"
        },
        "ansible_selinux_python_present": true,
        "ansible_service_mgr": "systemd",
        "ansible_ssh_host_key_ecdsa_public": "AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBOdPaEXLeyH23bdjob0gBnNH1A4okVFP2jVw88ljz88M1rsCNdkP86B92PeLux3xpNuAb5ewM0BCBdTh0PP1rfI=",
        "ansible_ssh_host_key_ecdsa_public_keytype": "ecdsa-sha2-nistp256",
        "ansible_ssh_host_key_ed25519_public": "AAAAC3NzaC1lZDI1NTE5AAAAIJUkm4O4Db3fVNPnV9f8ISV8WcMqLKsn8zogKxDYt9PR",
        "ansible_ssh_host_key_ed25519_public_keytype": "ssh-ed25519",
        "ansible_ssh_host_key_rsa_public": "AAAAB3NzaC1yc2EAAAADAQABAAABgQDcvz4kg5VjwYQE6yrdMG0ng0aQmZH+4MvqqjWJ3ReSIQwuKbRFL/owpE/42gT/zutq8mTSElinVbuZXXmRWeYCfejnte51zEprvp8LKknLmywbU2V5jp1JJYY0e1bD7xYjWLD3x4GxPVLl3TqU9ptUAyda8SnyPho0gAmHOtZeot5j1Yd+AYfn9RJQx2+RjGaLWMRPZjr+Yauu6U+p/3ybHfknQNLn2lddqGlM+d/ATQGU9yQWUXEc3tmSig0rwO5063WosPYJJK1jJ+VDOoCwFc+itAJd32fgzyRn50v1lwEbycLID67WDFvgFnnRZcet8vFS5h1gU/11+CXDPmIAmSoDb1zaAzDpgeSX0m3lCqjurhBbYZb053DJu56ON8TVxjCqwPtsdB9A+wFDFucLVCDb1AYVxrE131ens1wEzTtrK7qQRdV2j5Poeh6i0ZIsDRc4s3rO4tOscylzVhgptR6fqk5QZJ/QvtPegW1z+VTjBugVESq1GSMEnoKhnyc=",
        "ansible_ssh_host_key_rsa_public_keytype": "ssh-rsa",
        "ansible_swapfree_mb": 0,
        "ansible_swaptotal_mb": 1024,
        "ansible_system": "Linux",
        "ansible_system_capabilities": [
            ""
        ],
        "ansible_system_capabilities_enforced": "True",
        "ansible_system_vendor": "NA",
        "ansible_uptime_seconds": 20919,
        "ansible_user_dir": "/home/bhargav",
        "ansible_user_gecos": "",
        "ansible_user_gid": 1000,
        "ansible_user_id": "bhargav",
        "ansible_user_shell": "/bin/sh",
        "ansible_user_uid": 1000,
        "ansible_userspace_architecture": "x86_64",
        "ansible_userspace_bits": "64",
        "ansible_virtualization_role": "guest",
        "ansible_virtualization_tech_guest": [
            "docker",
            "container"
        ],
        "ansible_virtualization_tech_host": [],
        "ansible_virtualization_type": "docker",
        "discovered_interpreter_python": "/usr/bin/python3",
        "gather_subset": [
            "all"
        ],
        "module_setup": true
    },
    "changed": false
}
ansible-host2 | UNREACHABLE! => {
    "changed": false,
    "msg": "Failed to connect to the host via ssh: ssh: Could not resolve hostname ansible-host2: Name has no usable address",
    "unreachable": true
}
~/plays $ ls
custom-facts.yml         first-playbook.yml       host_vars                motd.yml                 myhosts
custom_fact.fact         group-playbook.yml       importtask-playbook.yml  multiple-plays.yml
~/plays $ cat custom-facts.yml 
- name: Adding custom facts to ansible-host1
  hosts: all
  become:  true
  tasks:
    - name: Craete the customfacts.d directorty
      file:
        path:  /etc/ansible/facts.d
        owner:  bhargav
        mode:  775
        state:  directory
    - name: Copy file to the facts.d directory
      copy:
        src:  custom_fact.fact
        dest:  /etc/ansible/facts.d
~/plays $ rgb:adad/bebe/cbcb0000/0000Rrgb:adad/bebe/cbcb0000/000011R
